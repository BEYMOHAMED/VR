<html>
  <head>
    <!-- aframe itself -->
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <!-- physics and other extras -->
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
  </head>
  <body>
    <audio src="./audio/fire.mp3" id="fire"></audio>
    <audio src="./audio/explode.mp3" id="explode"></audio>
    <a-scene 
      stats 
      physics="debug:true"
      sound="src: url(./audio/corneria.mp3); loop:true; autoplay:false; volume:1;"
    >

      <a-assets>
        <a-asset-item 
          id="spaceship" 
          src="models/spaceship/scene.gltf"
        >
        </a-asset-item>
      </a-assets>

      <a-entity 
        camera="userHeight: 4"
        wasd-controls
        look-controls
        restrict-position
        shoot="direction: 0 0 -1; spaceKeyEnabled: true"
      >
        <a-cursor></a-cursor>
        <a-entity 
          position="0 -4 1" 
          id="weapon"
          rotation="0 180 0" 
        >
          <a-entity 
            id='spaceship-model' 
            gltf-model="#spaceship"
            sound="src: url(./audio/fire.mp3); autoplay: false; loop: false; volume:0.5;"
          >
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity 
        id='ball'
        material="color:red;"
        geometry="primitive:sphere; radius: 0.5;"
        position="0 1 -10"
        dynamic-body
      >
      </a-entity>

      <!-- background sky -->
      <a-sky color="#109BE4"></a-sky>

      <a-plane 
        color="#368D6B" 
        rotation="-90 0 0" 
        width="100" 
        height="100" 
        static-body
      >
      </a-plane>
    </a-scene>
  </body>
  <script>
    var sceneEl = document.querySelector('a-scene');

    document.getElementById('ball').addEventListener('click', function() {
      document.getElementById('ball').body.position.set(0, 2,-10);
      document.getElementById('explode').play()
    })

    window.addEventListener('click', function() {
      document.getElementById('fire').play()
    })
  </script>
</html>